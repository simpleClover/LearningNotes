# 第3章 处理数据

## 3.1 简单变量

为了将信息储存到计算机中，程序必须记录三个变量的三个属性
- 信息要储存在哪里
- 信息要储存什么值
- 要储存何种信息的值

假如有如下语句
```cpp
int braincount;
braincount = 5;
```
这些语句告诉程序，`braincount`储存的是一个`int`类型的变量，并将`5`复制到该内存中

可以使用`&`符号来检索`braincount`的内存地址

### 3.1.1 变量名

C++提倡使用有一定含义的变量名，以下是几条C++命名规则
- 在名称中只能使用字母字符、数字和下划线`_`
- 名称的第一个字符不能是数字
- 区分大小写字母
- 不能将C++关键字用作名称
- 以两个下划线或下划线和大写字母打头的名称被保留给实现使用，以一个下划线开头的名称被保留给实现，用作全局标识符
- C++对于名称的长度没有限制，但有些平台会有长度限制

### 3.1.2 整型

整数就是没有小数部分的数字。不同C++整型使用不同的内存量来储存整数，使用的内存越大，可以表示的整数范围也越大  
C++的基本类型有char、short、int、long和long long，其中每种类型都有有符号版本和无符号版本，因此总共有十种类型可以选择

### 3.1.3 整型short、int、long和long long

计算机内存由位(bit)组成，C++的short、int、long和long long类型通过使用不同数目的位来储存值，最多能够表示四种不同的整数宽度。  
为了满足所有的计算机设计要求。C++提供了一种灵活的标准，它确保了最低长度
- short至少16位长
- int至少和short一样长
- long至少32位，且至少与int一样长
- long long至少64位长，且至少与long一样长

头文件`climits`中包含了关于整数限制的信息，例如INT_MAX为int的最大取值，CHAR_BIT为字节的位数

`sizeof`运算符将返回相应类型占用的字节数。如对int类型使用sizeof运算符时，应将名称放在括号中`sizeof(int)`

初始化

初始化将赋值和声明语句放在一起。例如`int a=10;`和`int a(10)`  
还有另外一种初始化方法，这种方式用于数组和结构，但是在C++98中也适用于单值变量`int a = {5};`  
其次，大括号内可以不包含任何东西，这种情况下变量将被初始化为0 

### 3.1.4 无符号类型

前面介绍的四种整型都有一种不能储存负数值的无符号变体，其特点是可以增大变量能够储存的最大值。例如，如果short表示的范围为-32768到+32767，那么无符号版本的表示范围为0到65535。  
要创建无符号版本的基本整型，只需要使用关键字unsigned来修饰变量即可


### 3.1.5 选择整型数据

C++提供了大量整型，通常int被设置为对目标计算机而言最自然的长度。如果没有非常有说服力的理由来选择其他类型，则应使用int  
如果变量表示的值不可能为负，例如文档中的字数，则可以使用无符号类型  
如果变量可能表示的整数可能大于16位整数的最大可能值，应该是用long，如果超过22亿，则应该是用long long  
如果short比int小，则使用short可以节省内存。通常应有大型整型数组的时候，才有必要使用short  
如果只需要一个字节，可使用char

### 3.1.6 整型字面值

整型字面值为显式书写的常量，例如`212`或`1776`  
与C相同，C++可以以三种不同的技术方式书写整型：基数为10，基数为8和基数为16  
C++使用前一（两）位来表示字符常量的基数
- 第一位为1~9，则基数为10
- 第一位位0，第二位为1~7，则基数为8
- 前两位为0x或0X，则基数为16

默认情况下，cout以十进制格式显示整数，但是可以使用dec、hex和oct控制符修改输出进制格式，在修改格式之前，原来的格式将一直有效
```cpp
#include <iostream>
using namespace std;
int main(){
    int chest = 42;
    cout << "chest = " << chest << endl;
    cout << hex;
    cout << "chest = " << chest << endl;
    cout << oct;
    cout << "chest = " << chest << endl;
    return 0;
}
```
输出：
```
chest = 42
chest = 2a
chest = 52
```

### 3.1.7 C++如何确定常量的类型

C++默认将整型常量存储为int类型  

整型后面的l或者L后缀表示该整数为long常量，u或U后缀表示unsigned int常量，ul（与顺序，大小写无关）表示unsigned long常量  
C++提供了用于表示类型long long的后缀ll和LL，还提供了用于表示unsigned long long类型的ull、Ull、uLL和ULL  
在C++中对于不带后缀的十进制整数，将使用int、long或long long中能储存这个数的最小类型表示，对于不带后缀的八进制或十六进制整数，将使用int、unsigned int、long、unsigned long、long long或unsigned long long其中能储存该数的最小类型来表示

### 3.1.8  char类型：字符和小整数

char类型是专为储存字符而设计的。它足够长，能够表示目标计算机系统中的所有基本符号——所有的字母、数字、标点符号等。  
```cpp
#include <iostream>
using namespace std
int main(){
    char ch = 'M';
    int i = ch;
    cout << "字符 " << ch << " 的ASCII码为 " << i << endl;
    cout << "对字符加一" << endl;
    ch = ch + 1;
    i = ch;
    cout << "字符 " << ch << " 的ASCII码为 " << i << endl;
    cout << "使用cout.put()输出字符:";
    cout.put(ch);
    cout.put('!');
    cout << endl << "Done" << endl;
    return 0;
}
```
输出：
```
字符 M 的ASCII码为 77
对字符加一
字符 N 的ASCII码为 78
使用cout.put()输出字符:N!
Done
```

#### char字面值
在C++中书写字符常量的方式有很多种。对于常规字符（如数字、字母和标点符号），最简单的方法是将字符用单引号括起。这种方式表示代表的是字符的数值编码
- 'A'为65，即字符A的ASCII码
- ‘a’为97，即字符a的ASCII码

#### 转义序列
有些字符不能直接通过键盘输入到程序中。对于这些字符，C++提供了一种特殊的表示方法－－转义序列

字符名称|ASCII符号|C++代码|十进制ASCII码|十六进制ASCII码
:-:|:-:|:-:|:-:|:-:
换行符|NL(LF)|\n|10|0xA
水平制表符|HT|\t|9|0x9
垂直制表符|VT|\v|11|0xB
退格|BS|\b|8|0x8
回车|CR|\r|13|0xD
响铃|BEL|\a|7|0x7
反斜杠| \\ | \\\\ |92|0x5C
问号|?|\?|63|0x3F
单引号|'|\'|39|0x27
双引号|"|\"|34|0x22

注意：应该像处理常规字符那样处理转义字符，也就是说，将它们作为字符常量的时候，应用单引号括起，将它们放在字符串的时候，不要使用单引号

#### 通用字符名

通用字符名的用法类似转义序列。通用字符名可以以\u或\U打头。\u后面是8个十六进制位，\U后面则是16个十六进制位。这些位表示的是字符的ISO 10646码点

#### signed char 和 unsgined char
与int不同的是，char在默认情况下是否有符号与C++实现决定。如果char有某种特定的行为对你来说非常重要，则可以显式地将类型设置为unsigned char或signed char  
如果使用char作为数值类型，那么unsigned char和signed char表示的范围分别是0~255和－128~127  
如果使用char作为变量来储存ASCII字符，那么使用char就可以了

#### wchar_t
程序需要处理的字符集可能不能用一个8位的字节表示，如日文汉字系统。对于这种情况，可以使用wchar_t（宽字符类型）  
cin和cout将输入和输出看作是char流，因此不适合处理wchar_t类型，使用wcin和wcout来处理wchar_t流  
可以通过加上前缀L来指示宽字符常量和宽字符串
```cpp
wchar_t bob = L'P';
wcout << L"tall" << endl;
```

#### C++11新增类型:char16_t和char32_t
前者长16位，无符号，后者长32位，也无符号  
C++使用前缀u表示char16_t字符常量和字符串常量，用前缀U表示char32_t字符常量和字符串常量
